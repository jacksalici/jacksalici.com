---
import FormattedDate from "../components/FormattedDate.astro";

type Props = {
  title?: string;
  pubDate?: Date;
  description?: string;
  slug?: string;
  summary?: string;
  categories?: string[];
  featured?: Boolean;
  trending?: Boolean;
  cta?: string[];
  location?: string;
  authors?: string;
  venue?: string;
  unavailable?: boolean;
};

const { ...props } = Astro.props;
const MyA = props.slug ? 'a': 'div' 
---

<MyA
  class:list={["group max-w-full", {" cursor-pointer transition-all": props.slug}]}
  href={props.slug}
>

  
  <div class="w-full">
    <p 
    class:list={["", {"group-hover:text-accent-1": props.slug && !props.featured && !props.trending, 
    "group-hover:text-accent-2": props.slug && props.trending, "group-hover:text-accent-3": props.slug && props.featured && !props.trending,
    "opacity-70": props.unavailable
     }]} 
    >
    <span class:list={["", {"text-accent-3": props.featured && !props.trending,  "text-accent-2": props.trending}]}>â€”</span>
    <span class:list={[{"line-through": props.unavailable == true}]}>{props.title}</span> {props.summary}
    {props.authors && <span class="text-xs">~ {props.authors}</span>}
    {props.venue && <span class="text-xs font-bold">~ {props.venue}</span>}
    {props.pubDate && 
      
        <span class="text-xs ">
        <FormattedDate date={props.pubDate} />
        </span>
  }
    
  </p>
    
    {props.cta && 
      <a href={props.cta[1]} class="bg-accent-2 hover:bg-opacity-70 text-base-100 hover:border-neutral-content border hover:underline border-accent-2 rounded-md text-sm p-2 ">
        
        {props.cta[0]}</a>
    }
  </div>
</MyA>
